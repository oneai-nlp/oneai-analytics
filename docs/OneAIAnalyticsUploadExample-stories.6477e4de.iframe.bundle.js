(self.webpackChunkoneai_analytics=self.webpackChunkoneai_analytics||[]).push([[668],{"./stories/OneAIAnalyticsUploadExample.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OneAIAnalyticsUploadExample:()=>OneAIAnalyticsUploadExample,__namedExportsOrder:()=>__namedExportsOrder,default:()=>OneAIAnalyticsUploadExample_stories});var react=__webpack_require__("./node_modules/react/index.js"),papaparse_min=__webpack_require__("./node_modules/papaparse/papaparse.min.js"),papaparse_min_default=__webpack_require__.n(papaparse_min),index_es=__webpack_require__("./node_modules/react-tooltip/dist/index.es.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment);const COLUMN_TYPES_OPTIONS=[{id:"False",label:"ignore"},{id:"input",label:"text"},{id:"input_translated",label:"translation"},{id:"timestamp",label:"date & time",validation:value=>moment_default()(value,moment_default().ISO_8601,!0).isValid()},{id:"CUSTOM_VALUE",label:"custom value"}];var listbox=__webpack_require__("./node_modules/@headlessui/react/dist/components/listbox/listbox.js"),transition=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),ChevronDownIcon=__webpack_require__("./node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SingleSelect({options,selectedLabelId,onSelect}){const selected=options.find((o=>o.id===(selectedLabelId??"False")));return(0,jsx_runtime.jsx)(listbox.R,{children:(0,jsx_runtime.jsxs)("div",{className:"relative bg-[#36334B] rounded-lg min-w-[100px]",children:[(0,jsx_runtime.jsxs)(listbox.R.Button,{className:"relative text-left focus:outline-none text-sm flex items-center px-2 py-2 justify-between w-full",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#111111] dark:text-gray-300 text-sm mr-1",children:selected?.label??"Unknown"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(ChevronDownIcon.Z,{className:"h-4 w-4 text-gray-200","aria-hidden":"true"})})]}),(0,jsx_runtime.jsx)(transition.u,{as:react.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,jsx_runtime.jsx)(listbox.R.Options,{className:"absolute mt-1 z-10 p-1 max-h-60 scrollbar-thin scrollbar-thumb-[#747189] scrollbar-track-[#272533] overflow-y-scroll scrollbar-thumb-rounded-full scrollbar-track-rounded-full rounded-md bg-gray-600 dark:bg-[#272533] py-1 text-base shadow-lg ring-1 ring-gray-500 dark:ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:options.map(((key,i)=>(0,jsx_runtime.jsx)(DropdownOption,{label:key.label,value:key.id,selected:selected?.id===key.id,labelClicked:onSelect},i)))})})]})})}function DropdownOption({label,value,selected,labelClicked}){return(0,jsx_runtime.jsx)(listbox.R.Option,{className:({active})=>"relative cursor-default select-none py-2 pr-4 "+(active?"bg-gray-400 dark:bg-[#444154] text-white":"text-gray-300 dark:text-[#747189]"),onClick:()=>labelClicked(value),value,children:(0,jsx_runtime.jsx)("span",{className:"w-full flex",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("input",{checked:selected,onChange:()=>{},type:"radio",className:"w-4 h-4 text-[#4D4DFE] bg-gray-100 border-gray-300 focus:ring-[#4D4DFE] dark:ring-offset-gray-800 focus:ring-2 dark:bg-[#322F46] dark:border-[#322F46]"}),(0,jsx_runtime.jsx)("label",{className:"text-sm ml-2 font-medium text-gray-900 dark:text-gray-300 block truncate lowercase first-letter:uppercase "+(selected?"font-medium":"font-normal"),children:label})]})})})}SingleSelect.displayName="SingleSelect",DropdownOption.displayName="DropdownOption";try{SingleSelect.displayName="SingleSelect",SingleSelect.__docgenInfo={description:"",displayName:"SingleSelect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"{ id: string; label: string; }[]"}},selectedLabelId:{defaultValue:null,description:"",name:"selectedLabelId",required:!0,type:{name:"string | null"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(selectedLabelId: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/components/UploadCSVComponents/SingleSelect.tsx#SingleSelect"]={docgenInfo:SingleSelect.__docgenInfo,name:"SingleSelect",path:"src/common/components/UploadCSVComponents/SingleSelect.tsx#SingleSelect"})}catch(__react_docgen_typescript_loader_error){}const allowedExtensions=["csv"],OneAiUpload=({domain="https://api.oneai.com",apiKey="",collection="",darkMode=!0,steps="",input_skill,resetAfterUpload=!0,expected_languages="",override_language_detection=!1,createCollection=!1,collectionDomain="survey",isPublic=!1,goToCollection})=>{const[data,setData]=(0,react.useState)([]),[error,setError]=(0,react.useState)(null),[file,setFile]=(0,react.useState)(null),[columnsConfigurations,setColumnsConfigurations]=(0,react.useState)([]),[loading,setLoading]=(0,react.useState)(!1),[uploaded,setUploaded]=(0,react.useState)(!1),[csvHasHeaders,setCsvHasHeaders]=(0,react.useState)(!0),[numberOfRowsToSkip,setNumberOfRowsToSkip]=(0,react.useState)(0),[numberOfRowsToDisplay,setNumberOfRowsToDisplay]=(0,react.useState)(100),[maxRows,setMaxRows]=(0,react.useState)(null),[taskId,setTaskId]=(0,react.useState)(null),[uploadStatus,setUploadStatus]=(0,react.useState)(null),[totalNumberOfRows,setTotalNumberOfRows]=(0,react.useState)(0),[collectionItemsAmount,setCollectionItemsAmount]=(0,react.useState)(null),currentParser=(0,react.useRef)(null),initiated=(0,react.useRef)(!1);(0,react.useEffect)((()=>{if(!taskId||!uploaded)return;const interval=setInterval((async()=>{const res=await fetch(encodeURI(`${domain}/api/v0/pipeline/async/tasks/${taskId}`),{method:"GET",headers:{"Content-Type":"application/json","api-key":apiKey??""}}),data=await res.json();"COMPLETED"===data.status?(setUploaded(!0),setUploadStatus("completed"),resetAfterUpload&&handleReset(),clearInterval(interval)):"FAILED"===data.status?(setUploadStatus("failed"),clearInterval(interval)):setUploadStatus("in progress")}),1e3);return()=>clearInterval(interval)}),[taskId,uploaded]),(0,react.useEffect)((()=>{if(initiated.current)return;initiated.current=!0;const controller=new AbortController;return 0!==domain.length&&0!==apiKey.length&&0!==collection.length?((async abortController=>{const res=await fetch(encodeURI(`${domain}/clustering/v1/collections/${collection}/clusters?limit=1`),{method:"GET",headers:{"Content-Type":"application/json","api-key":apiKey??""},signal:abortController.signal}),data=await res.json();setCollectionItemsAmount((()=>(setLoading(!1),data.total_items)))})(controller),()=>controller.abort()):void 0}),[domain,apiKey,collection]);const handleFileChange=e=>{setError(null),setUploaded(!1);try{currentParser.current?.abort()}catch(e){console.error(e)}const inputFile=e.target.files?.item(0);if(!inputFile)return;const fileExtension=inputFile.type.split("/")[1];allowedExtensions.includes(fileExtension)?(setFile(inputFile),handleParse(inputFile)):setError("Please input a csv file")},handleParse=file=>{if(!file)return setError("Enter a valid file");let finished=!1;papaparse_min_default().parse(file,{worker:!0,encoding:"utf-8",chunkSize:512,step:function({data,errors},parser){errors.length>0&&console.log("errors",errors[0]),currentParser.current=parser,finished||setData((prev=>(0===prev.length&&setColumnsConfigurations(data.map((()=>({id:"False"})))),prev.length>200&&(finished=!0),[...prev,data]))),setTotalNumberOfRows((prev=>prev+1))},complete:function(results,file){console.log("parsing complete read",results,file)}})},handleReset=()=>{setData([]),setFile(null),setColumnsConfigurations([]),setCsvHasHeaders(!0),setNumberOfRowsToSkip(0),setMaxRows(null)};(0,react.useEffect)((()=>{index_es.Z.hide(),index_es.Z.rebuild()}));const uploadDisabled=1!==columnsConfigurations.filter((c=>"input"===c.id)).length,handleDragOver=e=>{e.preventDefault()};return(0,jsx_runtime.jsx)("div",{className:"oneai-analytics-namespace h-full w-full p-2 "+(darkMode?"dark":""),children:(0,jsx_runtime.jsxs)("div",{className:"h-full w-full overflow-hidden bg-[#272535] flex flex-col items-center text-white "+(darkMode?"dark":""),children:[(0,jsx_runtime.jsx)(index_es.Z,{id:"global"}),error?(0,jsx_runtime.jsxs)("div",{className:"w-full p-2 relative h-2/6",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-0 right-0 p-2",children:(0,jsx_runtime.jsx)("svg",{onClick:()=>setError(null),className:"w-6 h-6 text-white cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,jsx_runtime.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,jsx_runtime.jsx)("svg",{className:"w-20 h-20 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold mt-2",children:error})]})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),uploaded?(0,jsx_runtime.jsx)("div",{className:"w-full p-2 h-full",children:(0,jsx_runtime.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,jsx_runtime.jsx)("svg",{className:"w-20 h-20 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold mt-4",children:"Upload Complete"}),(0,jsx_runtime.jsxs)("p",{className:"text-lg mt-2",children:[data.length>0?(maxRows??totalNumberOfRows)+" items":"Data"," ","has been uploaded to ' ",collection," '"]}),(0,jsx_runtime.jsxs)("p",{children:["Upload status: ",uploadStatus]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col w-full justify-center items-center",children:[(0,jsx_runtime.jsx)("button",{className:"bg-[#1E1E2F] text-white text-lg font-bold py-2 px-4 rounded mt-4",onClick:()=>{setUploaded(!1),setUploadStatus(null),setTaskId(null)},children:"Upload another file"}),goToCollection&&"in progress"!==uploadStatus?(0,jsx_runtime.jsx)("button",{className:"bg-[#1E1E2F] text-white text-lg font-bold py-2 px-4 rounded mt-4",onClick:()=>goToCollection(),children:"Go to collection"}):null]})]})}):data.length>0?(0,jsx_runtime.jsxs)("div",{className:"w-full p-2 "+(uploaded||error?"h-4/6":"h-full"),children:[loading?(0,jsx_runtime.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-black opacity-50 z-10",children:(0,jsx_runtime.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center text-center",children:[(0,jsx_runtime.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,jsx_runtime.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,jsx_runtime.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v1a7 7 0 00-7 7h1z"})]}),(0,jsx_runtime.jsx)("span",{className:"text-white",children:"Loading..."})]})}):null,(0,jsx_runtime.jsxs)("div",{className:"h-full w-full flex flex-col relative "+(loading?"pointer-events-none":""),children:[(0,jsx_runtime.jsxs)("div",{className:"h-auto w-full flex justify-between",children:[(0,jsx_runtime.jsxs)("span",{className:"text-gray-200 pl-2",children:["Select columns for upload to"," ",(0,jsx_runtime.jsxs)("span",{className:"text-white",children:["' ",collection," '"]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("span",{className:"text-gray-200 pr-2",children:"Preview rows"}),(0,jsx_runtime.jsx)("input",{className:"w-16 h-8 text-center text-gray-700 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",type:"number",value:numberOfRowsToDisplay,onChange:e=>setNumberOfRowsToDisplay(Number(e.target.value))})]})]}),(0,jsx_runtime.jsx)("div",{className:"relative overflow-auto max-h-full block shadow-md sm:rounded-lg grow w-full scrollbar-upload",children:(0,jsx_runtime.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,jsx_runtime.jsx)("thead",{className:"text-xs text-gray-700 uppercase dark:text-gray-400 sticky top-0 bg-[#2B293B]",children:(0,jsx_runtime.jsx)("tr",{children:data[0].map(((header,i)=>(0,jsx_runtime.jsx)("th",{scope:"col",className:"px-2 py-3 w-max",children:(0,jsx_runtime.jsxs)("div",{className:"w-full flex flex-col items-start",children:[(0,jsx_runtime.jsxs)("div",{className:"w-max",children:[(0,jsx_runtime.jsx)(SingleSelect,{options:COLUMN_TYPES_OPTIONS,selectedLabelId:columnsConfigurations[i].id??null,onSelect:selectedLabelId=>{setColumnsConfigurations((prev=>{const newColumnsConfigurations=[...prev];return newColumnsConfigurations[i]={id:selectedLabelId,..."CUSTOM_VALUE"===selectedLabelId&&{customText:csvHasHeaders?header:`Column ${i+1}`}},newColumnsConfigurations}))}}),(0,jsx_runtime.jsx)("div",{className:"w-max h-6",children:"CUSTOM_VALUE"===columnsConfigurations[i].id?(0,jsx_runtime.jsx)("input",{type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:columnsConfigurations[i].customText,onChange:e=>columnsConfigurations[i].customText=e.target.value.length>0?e.target.value:csvHasHeaders?header:`Column ${i+1}`}):null})]}),(0,jsx_runtime.jsx)("span",{className:"w-max pl-1",children:csvHasHeaders&&header?header:`Column ${i+1}`})]})},`${header} - ${i}`)))})}),(0,jsx_runtime.jsx)("tbody",{className:"h-96 overflow-y-auto",children:data.slice(csvHasHeaders?1:0,numberOfRowsToDisplay).map(((row,i)=>(0,jsx_runtime.jsx)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:row.map(((cell,i)=>(0,jsx_runtime.jsx)("td",{className:"px-2 py-3 max-w-[200px] truncate",children:cell},i)))},i)))})]})}),(0,jsx_runtime.jsx)("div",{className:"absolute bottom-4 w-full",children:(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mb-2 p-4 backdrop-blur-[2px]",children:[(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center mr-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"checkbox",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"CSV has headers"}),(0,jsx_runtime.jsx)("input",{checked:csvHasHeaders,onChange:e=>setCsvHasHeaders(e.target.checked),id:"checkbox",type:"checkbox",className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"checkbox","data-for":"global","data-tip":"Limit number of rows to upload",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Upload rows"}),(0,jsx_runtime.jsx)("input",{value:maxRows??totalNumberOfRows,onChange:e=>setMaxRows(Number(e.target.value||totalNumberOfRows)),type:"number",className:"w-16 h-8 text-center text-gray-700 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"checkbox",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Skip rows"}),(0,jsx_runtime.jsx)("input",{value:numberOfRowsToSkip,onChange:e=>setNumberOfRowsToSkip(Number(e.target.value)),type:"number",className:"w-16 h-8 text-center text-gray-700 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)("button",{type:"button",onClick:handleReset,className:"text-gray-400 font-medium px-5 text-center hover:text-gray-300 mr-12",children:"Cancel"}),(0,jsx_runtime.jsx)("span",{"data-for":"global","data-tip":uploadDisabled?"You must select one column for text":"Upload items",children:(0,jsx_runtime.jsxs)("button",{type:"button",onClick:()=>(async()=>{if(!file)return;if(setLoading(!0),createCollection)try{const res=await fetch(encodeURI(`${domain}/clustering/v1/collections/${collection}/create`),{method:"POST",headers:{"Content-Type":"application/json","api-key":apiKey??""},body:JSON.stringify({access:{...isPublic&&{all:{query:!0,list_clusters:!0,list_items:!0,add_items:!1,edit_clusters:!1,discoverable:!0}}},domain:collectionDomain})});if(!res.ok){const error=await res.json();return console.error("error",error),setLoading(!1),void setError("Couldn't create collection")}}catch(e){return console.error(e),setLoading(!1),void setError("Couldn't create collection")}const appendSteps=steps.length>0?steps.replaceAll("[","").replaceAll("]","").replaceAll(" ","").split(","):[],expectedLanguages=expected_languages.length>0?expected_languages.replaceAll("[","").replaceAll("]","").replaceAll(" ","").split(","):[];try{const pipelineJson={content_type:"text/csv",multilingual:{enabled:!0,...expectedLanguages.length>0&&{expected_languages:expectedLanguages},...override_language_detection&&{override_language_detection}},steps:[...appendSteps.length>0?appendSteps.map((step=>({skill:step}))):[],{skill:"clustering",params:{collection,...input_skill&&{input_skill}}}],csv_params:{columns:columnsConfigurations.map((cc=>"False"!==cc.id&&("CUSTOM_VALUE"===cc.id?cc.customText:cc.id))),skip_rows:(csvHasHeaders?1:0)+numberOfRowsToSkip,max_rows:null!==maxRows?maxRows:totalNumberOfRows}};(new FormData).append("file",file);const uploadRes=await fetch(encodeURI(`${domain}/api/v0/pipeline/async/file?pipeline=${JSON.stringify(pipelineJson)}`),{method:"POST",headers:{"Content-Type":"text/csv","api-key":apiKey??"","Content-Disposition":`attachment; filename=${encodeURI(file.name)}`},body:file});if(!uploadRes.ok){const error=await uploadRes.json();return console.error("error",error),setLoading(!1),void setError("Couldn't upload file")}const statusData=await uploadRes.json();console.log("file uploaded",statusData),setUploadStatus(statusData.status),setTaskId(statusData.task_id)}catch(e){return console.error(e),setLoading(!1),void setError("Couldn't upload file")}setError(null),resetAfterUpload&&handleReset(),setUploaded(!0),setLoading(!1)})(),disabled:uploadDisabled,className:"font-medium rounded-sm text-sm px-5 py-2.5 text-center "+(uploadDisabled?"bg-gray-500 text-gray-200":"text-white bg-indigo-500 hover:bg-indigo-800 focus:outline-none focus:ring-4 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800"),children:["Upload ",maxRows??totalNumberOfRows," items"]})})]})]})})]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{className:""+(uploaded?"mt-4":"mt-36"),children:collectionItemsAmount&&collectionItemsAmount>0?`Select file to add items to your collection: ${collection}`:"Your collection is empty, add items to populate it"}),(0,jsx_runtime.jsx)("div",{className:"mt-4 w-96",children:(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,jsx_runtime.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",onDrop:event=>{const target=event.dataTransfer;event.preventDefault(),target&&target.files.length>0&&handleFileChange({target:{files:target.files}})},onDragOver:handleDragOver,children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,jsx_runtime.jsx)("svg",{"aria-hidden":"true",className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,jsx_runtime.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:"Click to upload CSV"})," ","or drag and drop"]}),(0,jsx_runtime.jsxs)("ul",{className:"w-full flex-wrap list-disc",children:[(0,jsx_runtime.jsx)("li",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Up to 255 characters per cell"}),(0,jsx_runtime.jsx)("li",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Up to 1GB"}),(0,jsx_runtime.jsx)("li",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Up to 250 columns"})]})]}),(0,jsx_runtime.jsx)("input",{onDrop:handleDragOver,onChange:handleFileChange,id:"dropzone-file",type:"file",className:"hidden"})]})})})]})]})})};OneAiUpload.displayName="OneAiUpload";try{OneAiUpload.displayName="OneAiUpload",OneAiUpload.__docgenInfo={description:"",displayName:"OneAiUpload",props:{domain:{defaultValue:{value:"https://api.oneai.com"},description:"",name:"domain",required:!1,type:{name:"string"}},apiKey:{defaultValue:{value:""},description:"",name:"apiKey",required:!1,type:{name:"string"}},collection:{defaultValue:{value:""},description:"",name:"collection",required:!1,type:{name:"string"}},darkMode:{defaultValue:{value:"true"},description:"",name:"darkMode",required:!1,type:{name:"boolean"}},steps:{defaultValue:{value:""},description:"",name:"steps",required:!1,type:{name:"string"}},input_skill:{defaultValue:null,description:"",name:"input_skill",required:!1,type:{name:"string"}},resetAfterUpload:{defaultValue:{value:"true"},description:"",name:"resetAfterUpload",required:!1,type:{name:"boolean"}},expected_languages:{defaultValue:{value:""},description:"",name:"expected_languages",required:!1,type:{name:"string"}},override_language_detection:{defaultValue:{value:"false"},description:"",name:"override_language_detection",required:!1,type:{name:"boolean"}},createCollection:{defaultValue:{value:"false"},description:"",name:"createCollection",required:!1,type:{name:"boolean"}},collectionDomain:{defaultValue:{value:"survey"},description:"",name:"collectionDomain",required:!1,type:{name:"string"}},isPublic:{defaultValue:{value:"false"},description:"",name:"isPublic",required:!1,type:{name:"boolean"}},goToCollection:{defaultValue:null,description:"",name:"goToCollection",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/OneAiUpload.tsx#OneAiUpload"]={docgenInfo:OneAiUpload.__docgenInfo,name:"OneAiUpload",path:"src/components/OneAiUpload.tsx#OneAiUpload"})}catch(__react_docgen_typescript_loader_error){}const OneAIAnalyticsUploadExample_stories={title:"One AI Analytics Upload",component:OneAiUpload,parameters:{controls:{expanded:!0}}},Template=args=>(0,jsx_runtime.jsx)("div",{className:"h-screen w-full",children:(0,jsx_runtime.jsx)(OneAiUpload,{...args})});Template.displayName="Template";const OneAIAnalyticsUploadExample=Template.bind({});OneAIAnalyticsUploadExample.parameters={...OneAIAnalyticsUploadExample.parameters,docs:{...OneAIAnalyticsUploadExample.parameters?.docs,source:{originalSource:'args => <div className="h-screen w-full">\n    <OneAiUpload {...args} />\n  </div>',...OneAIAnalyticsUploadExample.parameters?.docs?.source}}};const __namedExportsOrder=["OneAIAnalyticsUploadExample"]},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);